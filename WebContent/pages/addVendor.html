<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Add Vendor | STOMAN</title>
<link href="../resources/uniform.default.css" rel="stylesheet" type="text/css" media="all">
<link href="../resources/uniform.aristo.css" rel="stylesheet" type="text/css" media="all">
<link href="../resources/style.css" rel="stylesheet" type="text/css" media="all">
<link rel="stylesheet" type="text/css" href="../css/mbContainer.css" title="style"  media="screen"/>
<script src="../resources/jquery-1.4.js"	type="text/javascript"></script>
<script src="../resources/jquery.uniform.min.js"	type="text/javascript"></script>
<script type='text/javascript' src='../dwr/engine.js'></script>
<script type='text/javascript' src='../dwr/util.js'></script>
<script type='text/javascript' src='../dwr/interface/Vendor.js'></script>
<script type='text/javascript' src='../resources/common.js'></script>
<script type="text/javascript" src="../resources/mbContainer.js"></script>
<script type="text/javascript" src="../resources/jquery-ui-1.8.6.custom.min.js"></script>
<script type="text/javascript" src="../resources/jquery.metadata.js"></script>


<script type="text/javascript">
var infoBar;

	$(document).ready(function(){
		uniform();
		infoBar = $(parent.document).find('#av .evidence').hide();
	});

	function create() {
		var page = $('#add-vendor'); 
		page.find('a').hide();
		page.addClass('transparency-20');
		Vendor.create(dwr.util.getValues('add-vendor'), function(stat) {
			page.removeClass('transparency-20');
			page.find('a').show();
			var cn, type;
			if(stat.substr(0, "E:".length) === "E:") {
				type = "Error.";
				cn = "red"
			} else if(stat.substr(0, "S:".length) === "S:") {
				fresh('add-vendor');
				type = "Vendor Created.";
				cn = "blue";
			}
			$('<a class="awesome no-border"/>').addClass(cn).html(stat.split(':')[1])
			.appendTo(infoBar.html(type));
			infoBar.show('slow');
			if(type != "Error.") {
				$('<a class="awesome no-border magenta"/>')
				.html('Add Material')
				.appendTo(infoBar.append("."))
				.click(function() {
					infoBar.hide();
					parent.iconizeContainer('av');
					parent.IFrameInit.getInstance().writeData($(parent.document).find('#avm'), 
							{
								vendor_name: stat.split(':')[1]
							});
					parent.showContainer('avm');
				});
			}
			setTimeout(function() { infoBar.hide('slow'); }, 5000);
		});
	}
</script>

</head>
<body>
<form id="add-vendor">
<table width="100%" style="padding-top: 20px;">
	<tr>
		<td><label for="name" name="name_lbl">Name</label></td>
		<td><input name="name" class="text"/></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<td><label for="addresses.streetName1" name="streetName1_lbl">Plot No. &amp; Name </label></td>
		<td><input name="addresses.streetName1" class="text"/></td>
		<td><label for="addresses.streetName2" name="streetName2_lbl">Street</label></td>
		<td><input name="addresses.streetName2" class="text"/></td>
	</tr>
	<tr>
		<td><label for="addresses.area" name="area_lbl">Area</label></td>
		<td><input name="addresses.area" class="text"/></td>
		<td><label for="addresses.city" name="city_lbl">City</label></td>
		<td><input name="addresses.city" class="text"/></td>
	</tr>
	<tr>
		<td><label for="addresses.zip" name="zip_lbl">Pincode</label></td>
		<td><input name="addresses.zip" class="text"/></td>
		<td><label for="addresses.state" name="state_lbl">State</label></td>
		<td><input name="addresses.state" class="text"/></td>
	</tr>
	<tr>
		<td><label for="addresses.country" name="country_lbl">Country</label></td>
		<td><input name="addresses.country" class="text"/></td>
		<td><label for="addresses.xxx" name="name_lbl">XXX</label></td>
		<td><input name="addresses.xxx" class="text"/></td>
	</tr>
	<tr>
		<td><label for="addresses.phone" name="phone_lbl">Phone</label></td>
		<td><input name="addresses.phone" class="text"/></td>
		<td><label for="addresses.mobile" name="mobile_lbl">Mobile</label></td>
		<td><input name="addresses.mobile" class="text"/></td>
	</tr>
	<tr>
		<td><label for="addresses.fax" name="fax_lbl">Fax</label></td>
		<td><input name="addresses.fax" class="text"/></td>
		<td><label for="addresses.email" name="email_lbl">email</label></td>
		<td><input name="addresses.email" class="text"/></td>
	</tr>
	<tr>
		<td colspan="4" align="center" style="padding-top: 20px;">
			<a id="create" class="awesome green" onclick="javascript: create();">Save</a>
			<a class="awesome green" onclick="javascript: fresh('add-vendor');">Clear</a>
		</td>
	</tr>	
</table>
</form>
</body>
</html>